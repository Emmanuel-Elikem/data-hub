<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ghana Mobile Data Purchase</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    :root {
      --primary: #FFD700;
      --error: #ff4444;
      --success: #00c851;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', sans-serif;
    }

    body {
      background: #f8f9fa;
      min-height: 100vh;
      padding: 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* Updated Operator Bar */
    .operator-bar {
      display: flex;
      justify-content: center;
      gap: 1rem;
      background: #e9ecef;
      padding: 0.75rem 1rem;
      border-radius: 50px;
      width: 100%;
      max-width: 800px;
      margin-bottom: 1.5rem;
      flex-wrap: nowrap;
    }

    .operator-btn {
      border: none;
      background: transparent;
      padding: 0.5rem 1.5rem;
      font-weight: 600;
      color: #495057;
      cursor: pointer;
      transition: all 0.3s ease;
      white-space: nowrap;
    }

    .operator-btn.active {
      background: var(--primary);
      color: white;
      border-radius: 20px;
    }

    /* Main Container */
    .container {
      background: white;
      border-radius: 1.5rem;
      box-shadow: 0 1rem 3rem rgba(0,0,0,0.1);
      padding: 2.5rem;
      max-width: 680px;
      width: 100%;
      margin-top: 1rem;
    }

    .main-title {
      text-align: center;
      margin-bottom: 2rem;
      color: var(--primary);
      font-size: 1.5rem;
      font-weight: 600;
    }

    /* Updated Step Sections */
    .step-section {
      margin-bottom: 2rem;
      position: relative;
    }

    .step-header {
      display: flex;
      align-items: center;
      margin-bottom: 1rem;
      gap: 0.75rem;
    }

    .step-icon .circle {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: var(--primary);
      color: white;
      font-weight: 600;
      flex-shrink: 0;
    }

    .step-header h2 {
      font-size: 1rem;
      color: #343a40;
      font-weight: 500;
    }

    /* Updated Input Groups */
    .input-group {
      position: relative;
      margin-bottom: 1.5rem;
    }

    .input-icon {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      color: #6c757d;
      z-index: 1;
    }

    .phone-input,
    .quantity-input,
    .selected-package {
      width: 100%;
      padding: 1rem 1rem 1rem 3rem;
      border: 2px solid #e9ecef;
      border-radius: 0.75rem;
      font-size: 1rem;
      transition: all 0.3s ease;
    }

    /* Updated Package Selector */
    .package-options {
      position: absolute;
      width: 100%;
      background: white;
      border: 2px solid #e9ecef;
      border-radius: 0.75rem;
      margin-top: 0.5rem;
      max-height: 250px;
      overflow-y: auto;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      z-index: 10;
      box-shadow: 0 8px 24px rgba(0,0,0,0.1);
    }

    .package-options.active {
      opacity: 1;
      visibility: visible;
    }

    .package-option {
      padding: 1rem;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      justify-content: space-between;
    }

    /* Payment Button */
    .pay-button {
      width: 100%;
      padding: 1.25rem;
      border: none;
      border-radius: 0.75rem;
      background: var(--primary);
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
    }

    @media (max-width: 640px) {
      .operator-bar {
        padding: 0.5rem;
        gap: 0.5rem;
      }
      .operator-btn {
        padding: 0.5rem 1rem;
        font-size: 0.9rem;
      }
    }
  </style>
</head>
<body>
  <header class="operator-bar">
    <button class="operator-btn active" data-operator="mtn" data-color="#FFD700">MTN Ghana</button>
    <button class="operator-btn" data-operator="airteltigo" data-color="#0066ff">AirtelTigo</button>
    <button class="operator-btn" data-operator="telecel" data-color="#ff4444">Telecel Ghana</button>
  </header>

  <div class="container">
    <h1 class="main-title">Purchase Your Data Bundle in 5 Simple Steps</h1>

    <!-- Step 1: Mobile Number -->
    <section class="step-section">
      <div class="step-header">
        <div class="step-icon">
          <span class="circle">1</span>
        </div>
        <h2>Enter your 10-digit mobile number (include the leading 0)</h2>
      </div>
      <div class="input-group">
        <i class="fas fa-mobile-alt input-icon"></i>
        <input type="tel" class="phone-input" placeholder="024 123 4567" maxlength="10">
        <div class="error-message" id="number-error"></div>
      </div>
    </section>

    <!-- Step 2: Data Package -->
    <section class="step-section">
      <div class="step-header">
        <div class="step-icon">
          <span class="circle">2</span>
        </div>
        <h2>Select your data bundle from the list below</h2>
      </div>
      <div class="input-group">
        <div class="package-selector">
          <div class="selected-package" onclick="togglePackageOptions()">
            <i class="fas fa-box-open input-icon"></i>
            <span>Select package</span>
            <i class="fas fa-chevron-down"></i>
          </div>
          <div class="package-options"></div>
        </div>
      </div>
    </section>

    <!-- Step 3: Quantity -->
    <section class="step-section">
      <div class="step-header">
        <div class="step-icon">
          <span class="circle">3</span>
        </div>
        <h2>Enter the number of packages you want to purchase</h2>
      </div>
      <div class="input-group">
        <i class="fas fa-hashtag input-icon"></i>
        <input type="number" class="quantity-input" min="0" value="0">
        <div class="error-message" id="quantity-error"></div>
      </div>
    </section>

    <!-- Step 4: Summary -->
    <section class="step-section">
      <div class="step-header">
        <div class="step-icon">
          <span class="circle">4</span>
        </div>
        <h2>Review your selections and total cost</h2>
      </div>
      <div class="price-display">
        Total: GHS <span id="total-price">0.00</span>
      </div>
      <div class="summary">
        <!-- Summary content remains same -->
      </div>
    </section>

    <!-- Step 5: Payment -->
    <section class="step-section">
      <div class="step-header">
        <div class="step-icon">
          <span class="circle">5</span>
        </div>
        <h2>Proceed to payment to complete your purchase</h2>
      </div>
      <button class="pay-button">
        <i class="fas fa-lock"></i>
        Proceed to Payment
      </button>
    </section>
  </div>

  <script>
    // Operators and package data
    const operators = {
      mtn: ['024', '025', '053', '054', '055', '059'],
      airteltigo: ['026', '027', '056', '057'],
      telecel: ['020', '050']
    };

    const packages = {
      mtn: [
        { size: '1 GB', price: 5 },
        { size: '2 GB', price: 9 },
        { size: '3 GB', price: 12 },
        { size: '5 GB', price: 18 },
        { size: '10 GB', price: 30 }
      ],
      airteltigo: [
        { size: '1 GB', price: 4.5 },
        { size: '2 GB', price: 8.5 },
        { size: '3 GB', price: 11.5 },
        { size: '5 GB', price: 16 },
        { size: '10 GB', price: 28 }
      ],
      telecel: [
        { size: '1 GB', price: 6 },
        { size: '2 GB', price: 10 },
        { size: '3 GB', price: 13 },
        { size: '5 GB', price: 20 },
        { size: '10 GB', price: 35 }
      ]
    };

    // State variables
    let currentOperator = 'mtn';
    let selectedPackage = null;
    let quantity = 0;

    // DOM Elements
    const operatorButtons = document.querySelectorAll('.operator-btn');
    const phoneInput = document.querySelector('.phone-input');
    const quantityInput = document.querySelector('.quantity-input');
    const packageOptions = document.querySelector('.package-options');
    const selectedPackageDisplay = document.querySelector('.selected-package span');
    const priceDisplay = document.querySelector('.price-display');
    const summary = document.querySelector('.summary');
    const numberError = document.querySelector('#number-error');

    // Initialize operator packages
    updatePackages();

    // Operator bar logic
    operatorButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        operatorButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        currentOperator = btn.dataset.operator;
        document.documentElement.style.setProperty('--primary', btn.dataset.color);
        updatePackages();
        validatePhoneNumber();
        updateSummary();
      });
    });

    // Phone number validation
    function validatePhoneNumber() {
      const number = phoneInput.value.replace(/\D/g, '');
      const isValid = number.length === 10 &&
                      number.startsWith('0') &&
                      operators[currentOperator].some(prefix => number.startsWith(prefix));
     
      phoneInput.style.borderColor = isValid ? 'var(--success)' : '#e9ecef';
      numberError.textContent = isValid ? '' : `Please enter a valid 10-digit ${currentOperator} number`;
      numberError.style.display = isValid ? 'none' : 'block';
     
      return isValid;
    }

    // Update package options when operator changes
    function updatePackages() {
      packageOptions.innerHTML = packages[currentOperator]
        .map(pkg => `
          <div class="package-option" data-price="${pkg.price}" data-size="${pkg.size}">
            <span>${pkg.size}</span>
            <span>GHS ${pkg.price.toFixed(2)}</span>
          </div>
        `).join('');
    }

    // Package selection logic
    document.querySelector('.package-selector').addEventListener('click', togglePackageOptions);
   
    packageOptions.addEventListener('click', (e) => {
      if (e.target.classList.contains('package-option')) {
        const option = e.target;
        selectedPackage = {
          price: parseFloat(option.dataset.price),
          size: option.dataset.size
        };
        selectedPackageDisplay.innerHTML = `
          ${option.dataset.size} - GHS ${option.dataset.price}
        `;
        packageOptions.classList.remove('active');
        updatePrice();
        updateSummary();
      }
    });

    // Quantity input handling
    quantityInput.addEventListener('input', function() {
      quantity = Math.max(0, parseInt(this.value) || 0);
      this.value = quantity;
      updatePrice();
      updateSummary();
    });

    // Price calculation
    function updatePrice() {
      if (selectedPackage) {
        const total = (selectedPackage.price * quantity).toFixed(2);
        document.getElementById('total-price').textContent = total;
        priceDisplay.classList.add('visible');
      }
    }

    // Update summary section
    function updateSummary() {
      const isValid = validatePhoneNumber() && selectedPackage && quantity > 0;
      const summaryElements = {
        number: document.getElementById('summary-number'),
        package: document.getElementById('summary-package'),
        quantity: document.getElementById('summary-quantity'),
        total: document.getElementById('summary-total')
      };

      if (isValid) {
        summary.classList.add('visible');
        summaryElements.number.textContent = phoneInput.value;
        summaryElements.package.textContent = selectedPackage.size;
        summaryElements.quantity.textContent = quantity;
        summaryElements.total.textContent = (selectedPackage.price * quantity).toFixed(2);
      } else {
        summary.classList.remove('visible');
      }
    }

    // Toggle package dropdown
    function togglePackageOptions() {
      packageOptions.classList.toggle('active');
    }

    // Handle click outside dropdown
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.package-selector')) {
        packageOptions.classList.remove('active');
      }
    });

    // Payment button handling
    document.querySelector('.pay-button').addEventListener('click', (e) => {
      e.preventDefault();
      if (validatePhoneNumber() && selectedPackage && quantity > 0) {
        alert(`Payment initiated for:
          Number: ${phoneInput.value}
          Package: ${selectedPackage.size}
          Quantity: ${quantity}
          Total: GHS ${(selectedPackage.price * quantity).toFixed(2)}`);
      }
    });

    // Initial validation
    phoneInput.addEventListener('input', function() {
      this.value = this.value.replace(/\D/g, '');
      validatePhoneNumber();
      updateSummary();
    });
</script>
</body>
</html>